 <?php
/**
 * @file
 */
function social_bookmark_init() {

  drupal_add_js('sites/all/libraries/ibeginshare/share.js');
}

/**
 * Implements hook_library().
 * @return string
 */
function social_bookmark_library() {
  $libraries['ibeginshare'] = array(
    'title' => 'ibeginshare',
    'website' => '',
    'version' => '1.2',
    'js' => array(
      'sites/all/libraries/ibeginshare/share.js' => array(
          'weight' => 100,
          'group' => JS_LIBRARY,
          'type' => 'file',
          'media' => 'screen',
      ),
    ),
    'css' => array(
      'sites/all/libraries/ibeginshare/share.css' => array(),
    ),
     'css' => array(
      'sites/all/libraries/ibeginshare/share-print.css' => array(),
    ),
  );

  return $libraries;
}

/**
 * Implementation of hook_block_info().
 */
function social_bookmark_block_info() {
  $blocks['social-bookmark'] = array(
    'info' => t('Social bookmark'),
  );
  return $blocks;
}

/**
 * Implementation of hook_block_view().
 */
function social_bookmark_block_view($delta='') {
  $block = array();
  switch ($delta) {
    case 'social-bookmark':
      //$block['subject'] = t('Social bookmark');
      $block['content'] = social_bookmark_contents();
      break;
  }
  return $block;
}

/**
 * custom html block
 * @return string
 */
function social_bookmark_contents() {
  global $language;
  return
		'<div id="share-tool-right">
			<script type="text/javascript">
			iBeginShare.attachLink("share-tool-right",{
				share_counter_display: "true",
                                share_lang: "'.$language->language.'"
			});
			</script>
		</div>
  ';
}